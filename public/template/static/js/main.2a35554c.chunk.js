(this.webpackJsonpm=this.webpackJsonpm||[]).push([[1],{16:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),r=n(2),o=n(3),c=n(4),l=n(0),i=n.n(l),u=n(38),s=n.n(u),d=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderSpan=function(e){return e?i.a.createElement("span",null,e):null},e.renderInput=function(){var t=e.props,n=t.model,a=t.type,r=t.label,o=t.style;if(!n)return i.a.createElement("div",{className:s.a.ucInput,style:o},i.a.createElement("input",{type:a,defaultValue:"",style:{paddingLeft:r?"1.5rem":"0.24rem"}}),e.renderSpan(r));var c=e.props.model,l=c.name,u=c.value,d=c.onChange;return i.a.createElement("div",{className:s.a.ucInput,style:o},i.a.createElement("input",{type:a,value:u,onChange:d,name:l,style:{paddingLeft:r?"1.5rem":"0.24rem"}}),e.renderSpan(r))},e.renderTextarea=function(){var t=e.props,n=t.model,a=t.label;if(!n)return i.a.createElement("div",null,e.renderSpan(a),i.a.createElement("textarea",null));var r=e.props.model,o=r.name,c=r.value,l=r.onChange;return i.a.createElement("div",null,e.renderSpan(a),i.a.createElement("textarea",{value:c,onChange:l,name:o}))},e}return Object(r.a)(n,[{key:"render",value:function(){return this.props.multi?this.renderTextarea():this.renderInput()}}]),n}(i.a.Component);d.defaultProps={type:"text",model:null,multi:!1,label:"",style:{}}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a="",r=""},21:function(e,t,n){e.exports={content:"login_content__22fhU","login-box":"login_login-box__3Qsoq",errcol:"login_errcol__1zQM9",tishi:"login_tishi__2sSuZ"}},22:function(e,t,n){e.exports={content:"reg_content__93EYe","login-box":"reg_login-box__3RkG1",errcol:"reg_errcol__Q9pRa",tishi:"reg_tishi__1lcWD"}},24:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(11),c=n(17),l=n.n(c),i=(n(20),n(14),n(50),n(6)),u=n(5);l.a.interceptors.request.use((function(e){var t=i.a.getState().user.token;return t=t||"",e.headers={token:t},i.a.dispatch(Object(u.e)("UPDATE_LOADING",!0)),e}),(function(e){return Promise.reject(e)})),l.a.interceptors.response.use((function(e){i.a.dispatch(Object(u.e)("UPDATE_LOADING",!1));var t=new o.a;return 2!==e.data.err||t.history.location.pathname.includes("/login")||i.a.dispatch({type:"user",payload:{err:1}}),e}),(function(e){return Promise.reject(e)})),r.a.axios=l.a,r.a.Component.prototype.axios=l.a,window.axios=l.a,t.a=l.a},25:function(e,t,n){e.exports={nav:"UcNav_nav__25yEx",arrow:"UcNav_arrow__2B8VB",gray:"UcNav_gray__366ak",default:"UcNav_default__rmKp4"}},27:function(e,t,n){"use strict";var a=n(1),r=n(2),o=n(3),c=n(4),l=n(0),i=n.n(l),u=n(25),s=n.n(u),d=n(10),p=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.bgColor,n=e.borderWidth,a=e.arrow,r=e.history;return i.a.createElement("div",{className:s.a.nav,style:{background:t,borderWidth:n}},i.a.createElement("div",{className:s.a.arrow},i.a.createElement("div",{className:"gray"===a?s.a.gray:s.a.default,onClick:function(){return r.go(-1)}})))}}]),n}(l.Component);p.defaultProps={bgColor:"#fff",arrow:"default",borderWidth:1},t.a=Object(d.g)(p)},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),r=n(2),o=n(3),c=n(4),l=n(0),i=n.n(l),u=n(37),s=n.n(u),d=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.clickHandler,n=e.children,a=e.size,r=e.style;return i.a.createElement("button",{type:"button",className:s.a["login-button"]+" "+s.a["login-button--".concat(a)],style:r,onClick:function(e){return t(e)}},n||"\u6309\u94ae")}}]),n}(l.Component);d.defaultProps={clickHandler:function(){},size:"default",style:{}}},37:function(e,t,n){e.exports={"login-button":"uc-button_login-button__cQl_E","login-button--default":"uc-button_login-button--default__1P_tj","login-button--mini":"uc-button_login-button--mini__2ZMro"}},38:function(e,t,n){e.exports={ucInput:"uc-input_ucInput__5-0O4"}},5:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s}));var a=n(24),r=n(14),o=n.n(r),c=function(e){return{type:e}},l=function(e,t){return{type:e,payload:t}},i=function(e){var t=e.collectionName,n=e.type,r=e.params,o=void 0===r?{_page:1,_limit:10}:r;return function(e){Object(a.a)({url:"/api/goods/".concat(t),params:o}).then((function(t){return e({type:n,payload:t.data.data})})).catch((function(e){return console.log("updateList",e)}))}},u=function(e){var t=e.collectionName,n=e._id;return function(e){Object(a.a)({url:"/api/goods/".concat(t,"/").concat(n)}).then((function(t){return e({type:"UPDATE_DETAIL",payload:t.data.data})})).catch((function(e){return console.log("updateDetail",e)}))}},s=function(e){var t=e.collection,n=e.method,r=void 0===n?"post":n,c=e.username,l=e.password,i=e.icon,u=e.nikename;return function(e){var n=null,s=null;return"login"===t?((n=new URLSearchParams).append("username",c),n.append("password",l)):"reg"===t&&((s=new FormData).append("username",c),s.append("password",l),i&&s.append("icon",i),u&&s.append("nikename",u)),Object(a.a)({url:"/api/".concat(t),method:r,data:"login"===t?n:s}).then((function(n){return"login"===t&&(e({type:"UPDATE_USER",payload:n.data}),window.localStorage.setItem("user",o.a.stringify(n.data))),n})).catch((function(e){return console.log("checkUser",e)}))}}},52:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n(1),o=n(2),c=n(3),l=n(4),i=n(0),u=n.n(i),s=n(21),d=n.n(s),p=n(27),m=n(28),f=n(16),h=n(12),b=n(5),g=(n(14),n(6)),v=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={username:"",password:"",errorMess:""},e.login=function(){e.props.dispatch(Object(b.a)({collection:"login",username:e.state.username,password:e.state.password})).then((function(t){return e.setState({errorMess:t.data.msg})}))},e.changeIpt=function(t){e.setState(Object(a.a)({},t.target.name,t.target.value))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,r=t.errorMess;return u.a.createElement("div",{className:d.a.content},u.a.createElement(p.a,{arrow:"gray",borderWidth:0,bgColor:"transparent"}),u.a.createElement("h1",null,"\u4eb2\uff0c\u6b22\u8fce\u767b\u9646"),u.a.createElement("div",{className:d.a["login-box"]},"\u6ca1\u6709\u963f\u96f7\u8d26\u6237\uff1f",u.a.createElement("a",{onClick:function(){return g.a.dispatch({type:"UPDATE_USER",payload:{err:3}})}},"\u7acb\u5373\u6ce8\u518c")),u.a.createElement("div",{className:d.a.inputox},u.a.createElement(f.a,{label:"\u7528\u6237",model:{name:"username",value:n,onChange:this.changeIpt}}),u.a.createElement(f.a,{label:"\u5bc6\u7801",type:"password",model:{name:"password",value:a,onChange:this.changeIpt}})),u.a.createElement("div",{className:d.a.footbox},u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement("p",{className:d.a.errcol},r),u.a.createElement(m.a,{style:{marginTop:"0.64rem",marginBottom:"0.3rem",background:"indianred",border:"none"},clickHandler:this.login},"\u767b\u5f55"),u.a.createElement("br",null),u.a.createElement("a",{onClick:function(){return e.props.history.push("/nnnnn")},className:"tishi"},"\u5fd8\u8bb0\u5bc6\u7801\uff1f")))}}]),n}(i.PureComponent);t.default=Object(h.b)()(v)},55:function(e,t,n){e.exports={loading:"loading_loading__1p5z1",s:"loading_s__22uJ_"}},56:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(19),r=n.n(a),o=n(29),c=n(31),l=n(1),i=n(2),u=n(3),s=n(4),d=n(0),p=n.n(d),m=n(22),f=n.n(m),h=n(27),b=n(28),g=n(16),v=(n(14),n(6)),E=n(5),y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={username:"",password:"",nikename:"",errorMess:""},e.changeIpt=function(t){e.setState(Object(c.a)({},t.target.name,t.target.value))},e.reg=Object(o.a)(r.a.mark((function t(){var n,a,o,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state,a=n.username,o=n.password,c=n.nikename,v.a.dispatch(Object(E.a)({collection:"reg",username:a,password:o,nikename:c,icon:e.file.files[0]})).then((function(t){0===t.data.err?(console.log("\u6ce8\u518c\u6210\u529f"),v.a.dispatch({type:"UPDATE_USER",payload:{err:1}})):e.setState({errorMess:t.data.msg})}));case 2:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password,r=t.errorMess,o=t.nikename;return p.a.createElement("div",{className:f.a.content},p.a.createElement(h.a,{arrow:"gray",borderWidth:0,bgColor:"transparent"}),p.a.createElement("h1",{onClick:function(){return e.file.click()}},"\u70b9\u51fb\u4e0a\u4f20"),p.a.createElement("input",{type:"file",ref:function(t){return e.file=t},style:{visibility:"hidden"}}),p.a.createElement("h2",null,"\u4eb2\uff0c\u6b22\u8fce\u6ce8\u518c\u963f\u96f7\u8d26\u53f7"),p.a.createElement("div",{className:f.a["login-box"]},"\u82e5\u6709\u963f\u96f7\u8d26\u6237\uff1f",p.a.createElement("a",{onClick:function(){return v.a.dispatch({type:"UPDATE_USER",payload:{err:1}})}},"\u7acb\u5373\u767b\u5f55")),p.a.createElement("div",{className:f.a.inputox},p.a.createElement(g.a,{label:"\u6635\u79f0",model:{name:"nikename",value:o,onChange:this.changeIpt}}),p.a.createElement(g.a,{label:"\u7528\u6237",model:{name:"username",value:n,onChange:this.changeIpt}}),p.a.createElement(g.a,{label:"\u5bc6\u7801",type:"password",model:{name:"password",value:a,onChange:this.changeIpt}})),p.a.createElement("div",{className:f.a.footbox},p.a.createElement("br",null),p.a.createElement("p",{className:f.a.errcol},r),p.a.createElement(b.a,{style:{marginTop:"0.3rem",marginBottom:"0.2rem",background:"indianred",border:"none"},clickHandler:this.reg},"\u6ce8\u518c")))}}]),n}(d.PureComponent)},58:function(e,t,n){e.exports=n(91)},6:function(e,t,n){"use strict";var a=n(15),r=n(54),o=[],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_BANNER":return a;case"CLEAR_BANNER":return[];default:return e}},l=[],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_GOODS":return a;case"CLEAR_GOODS":return[];default:return e}},u={},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_DETAIL":return a;case"CLEAR_DETAIL":return{};default:return e}},d=[],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_FOLLOW":return a;case"CLEAR_FOLLOW":return[];default:return e}},m=[],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_HOME":return a;case"CLEAR_HOME":return[];default:return e}},h={err:1,token:"",data:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_USER":return{err:a.err,token:a.token,data:a.data};case"CLEAR_USER":return{err:1,token:"",data:{}};default:return e}},g=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_TRIP":return a;case"CLEAR_TRIP":return[];default:return e}},E=[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_STRATEGY":return a;case"CLEAR_STRATEGY":return[];default:return e}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_FOOT":return a;default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_LOADING":return a;default:return e}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"UPDATE_NAV":return a;default:return e}},j=Object(a.c)({banner:c,detail:s,follow:p,home:f,user:b,goods:i,trip:v,strategy:y,bFoot:_,bLoading:O,bNav:w}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||a.d,P=Object(a.e)(j,A(Object(a.a)(r.a)));t.a=P},63:function(e,t){!function(e,t){var n=e.documentElement,a="orientationchange"in window?"orientationchange":"resize",r=function(){var e=n.clientWidth;e>=640&&(e=640),e&&(n.style.fontSize=e/640*100+"px")};e.addEventListener&&(t.addEventListener(a,r,!1),e.addEventListener("DOMContentLoaded",r,!1))}(document,window)},64:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),l=(n(63),n(64),n(11)),i=n(10),u=n(57),s=n(12),d=n(52),p=n(1),m=n(2),f=n(3),h=n(4),b=n(19),g=n.n(b),v=n(29);function E(e){return function(t){Object(h.a)(a,t);var n=Object(f.a)(a);function a(e){var t;return Object(p.a)(this,a),(t=n.call(this,e)).state={component:null},t}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var t=Object(v.a)(g.a.mark((function t(){var n,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.default,this.setState({component:a});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?r.a.createElement(e,this.props):null}}]),a}(a.Component)}var y=n(18),_=n.n(y),O=n(55),w=n.n(O),j=function(){return r.a.createElement("div",{className:w.a.loading})},A=(n(50),n(5)),P=E((function(){return n.e(15).then(n.bind(null,271))})),T=E((function(){return Promise.all([n.e(19),n.e(9)]).then(n.bind(null,276))})),U=E((function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,272))})),k=E((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,273))})),D=E((function(){return Promise.all([n.e(0),n.e(7),n.e(14)]).then(n.bind(null,274))})),N=E((function(){return n.e(18).then(n.bind(null,275))})),x=E((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,192))})),C=E((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,189))})),L=E((function(){return n.e(6).then(n.bind(null,193))})),S=_()({loader:function(){return Promise.resolve().then(n.bind(null,52))},loading:function(){return null}}),I=_()({loader:function(){return Promise.resolve().then(n.bind(null,56))},loading:function(){return null}}),R=(_()({loader:function(){return n.e(13).then(n.bind(null,130))},loading:function(){return null}}),_()({loader:function(){return n.e(16).then(n.bind(null,188))},loading:function(){return null}})),F=_()({loader:function(){return n.e(11).then(n.bind(null,277))},loading:function(){return null}}),M=_()({loader:function(){return n.e(17).then(n.bind(null,129))},loading:function(){return null}}),W=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.bNav,n=e.bFoot,a=e.bLoading;return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(j,null),t&&r.a.createElement(R,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/home",component:T}),r.a.createElement(i.b,{exact:!0,path:"/nnnnn",component:M}),r.a.createElement(i.b,{exact:!0,path:"/goods/index",component:U}),r.a.createElement(i.a,{exact:!0,from:"/goods",to:"/goods/index"}),r.a.createElement(i.b,{exact:!0,path:"/goods/follow",component:C}),r.a.createElement(i.b,{path:"/trip",component:x}),r.a.createElement(i.b,{path:"/login",component:S}),r.a.createElement(i.b,{path:"/reg",component:I}),r.a.createElement(i.b,{path:"/soso",component:k}),r.a.createElement(i.b,{exact:!0,path:"/user",component:D}),r.a.createElement(i.b,{exact:!0,path:"/strategy",component:F}),r.a.createElement(i.b,{exact:!0,path:"/follow",component:C}),r.a.createElement(i.b,{path:"/detail/:_id",component:L}),r.a.createElement(i.a,{exact:!0,from:"/",to:"/home"}),r.a.createElement(i.b,{component:N})),n?r.a.createElement(P,null):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){window.scrollTo(0,0);var n=e.location.pathname;/follow|goods/.test(n)&&(e.dispatch(Object(A.e)("UPDATE_NAV",!0)),e.dispatch(Object(A.e)("UPDATE_FOOT",!0))),/login|reg|detail|baoji/.test(n)&&(e.dispatch(Object(A.e)("UPDATE_NAV",!1)),e.dispatch(Object(A.e)("UPDATE_FOOT",!1))),/user|home|strategy|trip/.test(n)&&(e.dispatch(Object(A.e)("UPDATE_NAV",!1)),e.dispatch(Object(A.e)("UPDATE_FOOT",!0)))}}]),n}(a.Component),G=Object(s.b)((function(e){return{bNav:e.bNav,bLoading:e.bLoading,bFoot:e.bFoot}}))(W),B=n(56);var V=Object(s.b)((function(e){return{user:e.user}}))((function(e){var t=e.user.err,n=Object(u.a)(e,["user"]);return 1===t?r.a.createElement(d.default,null):3===t?r.a.createElement(B.default,null):r.a.createElement(G,n)})),z=(n(24),n(20)),H=n(6),Q=n(14),J=n.n(Q);r.a.baseUrl=z.a,r.a.baseUrl2=z.b,r.a.Component.prototype.baseUrl=z.a,r.a.Component.prototype.baseUrl2=z.b;var Y=window.localStorage.getItem("user");Y&&H.a.dispatch({type:"UPDATE_USER",payload:J.a.parse(Y)}),c.a.render(r.a.createElement(s.a,{store:H.a},r.a.createElement(l.a,null,r.a.createElement(i.b,{component:V}))),document.getElementById("root"))}},[[58,2,3]]]);
//# sourceMappingURL=main.2a35554c.chunk.js.map