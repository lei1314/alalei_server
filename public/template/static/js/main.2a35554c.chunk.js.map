{"version":3,"sources":["components/uc-input/index.js","server.js","assets/css/login.module.css","assets/css/reg.module.css","plugins/axios.js","components/uc-nav/UcNav.module.css","components/uc-nav/UcNav.js","components/uc-button/index.js","components/uc-button/uc-button.module.css","components/uc-input/uc-input.module.css","store/actionCreators.js","pages/Login.js","components/loading/loading.module.css","pages/Reg.js","store/reducers/banner.js","store/reducers/goods.js","store/reducers/detail.js","store/reducers/follow.js","store/reducers/home.js","store/reducers/user.js","store/reducers/trip.js","store/reducers/strategy.js","store/reducers/bFoot.js","store/reducers/bLoading.js","store/reducers/bNav.js","plugins/redux.js","utils/font.js","utils/asyncComponent.js","components/loading/index.js","layouts/App.js","layouts/Default.js","index.js"],"names":["UcInput","renderSpan","label","renderInput","props","model","type","style","className","styles","ucInput","defaultValue","paddingLeft","name","value","onChange","renderTextarea","this","multi","React","Component","defaultProps","baseUrl","baseUrl2","module","exports","axios","interceptors","request","use","config","token","store","getState","user","headers","dispatch","viewGlobal","error","Promise","reject","response","router","Router","data","err","history","location","pathname","includes","payload","prototype","window","UcNav","bgColor","borderWidth","arrow","nav","background","gray","default","onClick","go","withRouter","UcButton","clickHandler","children","size","ev","clear","updateList","collectionName","params","_page","_limit","url","then","res","catch","console","log","updateDetail","_id","checkerUser","collection","method","username","password","icon","nikename","fromData","URLSearchParams","append","FormData","localStorage","setItem","qs","stringify","Login","state","errorMess","login","setState","msg","changeIpt","target","content","inputox","footbox","errcol","marginTop","marginBottom","border","push","PureComponent","connect","Reg","reg","a","file","files","click","ref","el","visibility","initState","banner","action","goods","detail","follow","home","trip","strategy","bFoot","bLoading","bNav","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","doc","win","docEl","documentElement","resizeEvt","recalc","clientWidth","fontSize","addEventListener","document","asyncComponent","importComponent","component","C","Loading","loading","Footer","Home","Goods","SoSo","User","NoPage","Trip","Follow","Detail","Loadable","loader","Header","Strategy","Nnnnn","Default","path","exact","from","to","nextProps","nextState","scrollTo","test","rest","App","local","getItem","parse","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2a35554c.chunk.js","sourcesContent":["import React from 'react';\r\nimport styles from './uc-input.module.css'\r\nimport propTypes from 'prop-types';\r\n\r\nexport default class UcInput extends React.Component {\r\n  /*\r\n  * type   类型         text\r\n  * model  双向绑定模式  null  |   {value,name,onChange}\r\n  * multi  多行输入     false\r\n  * label  标题         ''\r\n  * style  行间样式     {}\r\n  * */\r\n\r\n  //默认值\r\n  static defaultProps = {\r\n    type: 'text',\r\n    model: null,\r\n    multi: false,\r\n    label: '',\r\n    style: {}\r\n  };\r\n\r\n  //类型约定\r\n  static propTypes = {\r\n    type: propTypes.string,\r\n    model: propTypes.shape({\r\n      name: propTypes.string.isRequired,\r\n      value: propTypes.string.isRequired,\r\n      onChange: propTypes.func.isRequired\r\n    }),\r\n    multi: propTypes.bool,\r\n    label: propTypes.string,\r\n    style: propTypes.object\r\n  };\r\n\r\n  //标题 纯 渲染\r\n  renderSpan=(label)=>{\r\n    return label ? <span>{label}</span> : null\r\n  };\r\n\r\n  //单行输入框渲染\r\n  renderInput = () => {\r\n    let {model, type, label,style} = this.props;\r\n\r\n    let inputEle = null;\r\n\r\n    //生成非受控元素\r\n    if (!model) {\r\n      inputEle = (\r\n        <div className={styles.ucInput} style={style}>\r\n          <input type={type} defaultValue=\"\" style={{paddingLeft: label ? '1.5rem' : '0.24rem'}}/>\r\n          {this.renderSpan(label)}\r\n        </div>\r\n      );\r\n\r\n      return inputEle;\r\n    }\r\n\r\n\r\n    let {model: {name, value, onChange}} = this.props;\r\n\r\n    //生成一个受控元素\r\n    inputEle = (\r\n      <div className={styles.ucInput}  style={style}>\r\n        <input\r\n          type={type}\r\n          value={value}\r\n          onChange={onChange}\r\n          name={name}\r\n          style={{paddingLeft: label ? '1.5rem' : '0.24rem'}}\r\n        />\r\n        {this.renderSpan(label)}\r\n      </div>\r\n    );\r\n\r\n    return inputEle;\r\n\r\n  };\r\n\r\n  //多行输入框渲染\r\n  renderTextarea = () => {\r\n\r\n    let {model,label} = this.props;\r\n    let multiEle = null;\r\n\r\n    if (!model){\r\n      multiEle = (\r\n        <div>\r\n          {this.renderSpan(label)}\r\n          <textarea></textarea>\r\n        </div>\r\n      );\r\n      return multiEle\r\n    }\r\n\r\n    let {model: {name, value, onChange}} = this.props;\r\n\r\n    multiEle = (\r\n      <div>\r\n        {this.renderSpan(label)}\r\n        <textarea\r\n          value={value}\r\n          onChange={onChange}\r\n          name={name}\r\n        ></textarea>\r\n      </div>\r\n    );\r\n\r\n    return multiEle;\r\n  };\r\n\r\n  render() {\r\n    let {multi} = this.props;\r\n    return multi ? this.renderTextarea() : this.renderInput()\r\n  }\r\n}","// export const baseUrl=\"http://localhost:3000\";\r\nexport const baseUrl=\"\";\r\n\r\nexport const baseUrl2=\"\";\r\n\r\n// export const baseUrl=\"http://vareyoung\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"login_content__22fhU\",\"login-box\":\"login_login-box__3Qsoq\",\"errcol\":\"login_errcol__1zQM9\",\"tishi\":\"login_tishi__2sSuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"reg_content__93EYe\",\"login-box\":\"reg_login-box__3RkG1\",\"errcol\":\"reg_errcol__Q9pRa\",\"tishi\":\"reg_tishi__1lcWD\"};","import React from 'react';\r\n\r\nimport {BrowserRouter as Router} from 'react-router-dom'\r\n\r\nimport axios from 'axios';\r\nimport {baseUrl} from '../server'\r\nimport qs from 'qs';\r\nimport pubsub from 'pubsub-js'\r\nimport store from \"./redux\";\r\nimport {viewGlobal} from \"../store/actionCreators\";\r\n// 添加一个请求的拦截\r\naxios.interceptors.request.use((config) => {\r\n\r\n  //1抓redux，携带在请求头里\r\n\r\n  let token=store.getState().user.token;\r\n\r\n  token=token||'';\r\n  config.headers={token};\r\n\r\n\r\n\r\n\r\n  //显示loading...\r\n  // pubsub.publish('UPDATE_LOADING',true)\r\n  store.dispatch(viewGlobal('UPDATE_LOADING', true))\r\n  return config;//2返回请求\r\n\r\n}, function(error) {\r\n  // 请求错误时做点事\r\n  return Promise.reject(error);\r\n});\r\n\r\n//添加一个响应拦截\r\naxios.interceptors.response.use(function(response) {\r\n\r\n  // pubsub.publish('UPDATE_LOADING',false)\r\n  store.dispatch(viewGlobal('UPDATE_LOADING', false))\r\n\r\n  let router=new Router();//Router 是BroswerRouter别名，也是一个类，实例化\r\n\r\n  //token过期: 返回值2,当前路由不是login时跳转\r\n  if (response.data.err === 2 && !router.history.location.pathname.includes('/login')) {\r\n\r\n    store.dispatch({type:'user',payload:{err:1}})\r\n  }\r\n\r\n\r\n  return response;\r\n\r\n}, function(error) {\r\n\r\n  return Promise.reject(error);\r\n});\r\n\r\nReact.axios = axios;//axios绑到对象包上  React.axios\r\nReact.Component.prototype.axios = axios; // axios绑定到Component类的原型   组件|this.axios\r\nwindow.axios = axios;  //×   希望全局使用window.axios , 使用webpack 来配置\r\nexport default axios;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"UcNav_nav__25yEx\",\"arrow\":\"UcNav_arrow__2B8VB\",\"gray\":\"UcNav_gray__366ak\",\"default\":\"UcNav_default__rmKp4\"};","import React,{Component} from 'react';\r\nimport propTypes from 'prop-types'\r\nimport styles from './UcNav.module.css'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass UcNav extends Component{\r\n\r\n  static defaultProps={\r\n    bgColor:'#fff',\r\n    arrow:'default',\r\n    borderWidth:1,\r\n  };\r\n\r\n  static propTypes={\r\n    bgColor:propTypes.string,\r\n    arrow:propTypes.string,\r\n    borderWidth:propTypes.number\r\n  };\r\n\r\n  render(){\r\n    let {bgColor, borderWidth,arrow,history} = this.props;\r\n    return (\r\n      <div\r\n        className={styles.nav}\r\n        style={{\r\n          background:bgColor,\r\n          borderWidth\r\n        }}\r\n      >\r\n        <div className={styles.arrow}>\r\n          <div\r\n            className={arrow === 'gray' ? styles.gray : styles.default}\r\n            onClick={()=>history.go(-1)}\r\n          ></div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(UcNav)","import React,{Component} from 'react';\r\n\r\nimport styles from './uc-button.module.css'\r\nimport propTypes from 'prop-types';\r\n\r\nexport default class UcButton extends Component{\r\n\r\n  static defaultProps={\r\n    clickHandler:()=>{},\r\n    size:'default',\r\n    style:{}\r\n  };\r\n\r\n  static propTypes={\r\n    clickHandler: propTypes.func,\r\n    type: propTypes.string, // mini\r\n    style: propTypes.object,\r\n  };\r\n\r\n  render(){\r\n    let {clickHandler,children,size,style}=this.props;\r\n\r\n    return (\r\n      <button\r\n        type=\"button\"\r\n        className={styles['login-button'] + ' ' + styles[`login-button--${size}`]}\r\n        style={style}\r\n        onClick={(ev)=>clickHandler(ev)}\r\n      >{children ? children : '按钮'}</button>\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-button\":\"uc-button_login-button__cQl_E\",\"login-button--default\":\"uc-button_login-button--default__1P_tj\",\"login-button--mini\":\"uc-button_login-button--mini__2ZMro\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ucInput\":\"uc-input_ucInput__5-0O4\"};","import axios from '../plugins/axios';\r\nimport qs from 'qs'\r\n\r\n\r\nexport const clear = type => ({\r\n    type\r\n});\r\nexport const viewGlobal = (type,payload) => ({\r\n    type,payload\r\n});\r\n//获取列表\r\nexport const updateList = ({collectionName,type,params={_page:1,_limit:10}}) => dispatch=>{\r\n    axios({url:`/api/goods/${collectionName}`,params})\r\n        .then(\r\n            res=>dispatch({type,payload:res.data.data})\r\n        )\r\n        .catch(\r\n            err=>console.log('updateList',err)\r\n        )\r\n};\r\n//获取详情\r\nexport const updateDetail = ({collectionName,_id}) => dispatch=>{\r\n    axios({url:`/api/goods/${collectionName}/${_id}`})\r\n        .then(\r\n            res=>dispatch({type:'UPDATE_DETAIL',payload:res.data.data})\r\n        )\r\n        .catch(\r\n            err=>console.log('updateDetail',err)\r\n        )\r\n};\r\n\r\n//login reg 和获取user 的异步处理，并提交action给reducer\r\nexport const checkerUser=({\r\n    collection,method='post',username,password,icon,nikename\r\n})=>dispatch=>{\r\n    let params=null;\r\n    let fromData=null;\r\n    if (collection==='login'){\r\n        params=new URLSearchParams();\r\n        params.append(\"username\",username);\r\n        params.append(\"password\",password);\r\n    }else if(collection==='reg'){\r\n        fromData=new FormData();\r\n        fromData.append('username',username);\r\n        fromData.append('password',password);\r\n        icon && fromData.append('icon',icon);\r\n        nikename && fromData.append('nikename',nikename);\r\n    }\r\n    return axios({\r\n        url:`/api/${collection}`,\r\n        method,\r\n        data:collection==='login'?params:fromData,\r\n    }).then(\r\n        res => {\r\n            if (collection==='login'){\r\n                dispatch({type:'UPDATE_USER',payload:res.data});//同步redux\r\n                window.localStorage.setItem('user',qs.stringify(res.data));//localStorage\r\n            }\r\n            return res\r\n        }\r\n    ).catch(\r\n        err=>console.log('checkUser',err)\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React,{PureComponent} from 'react';\r\nimport styles from '../assets/css/login.module.css'\r\nimport UcNav from \"../components/uc-nav/UcNav\";\r\nimport UcButton from \"../components/uc-button\";\r\nimport {Link} from 'react-router-dom'\r\nimport UcInput from \"../components/uc-input\";\r\nimport {connect} from \"react-redux\";\r\nimport {checkerUser} from \"../store/actionCreators\";\r\n\r\nimport qs from 'qs';\r\nimport store from \"../plugins/redux\";\r\nclass Login extends PureComponent{\r\n    state={\r\n        username:'',\r\n        password:'',\r\n        errorMess:''\r\n    };\r\n\r\n    login=()=>{\r\n\r\n        this.props.dispatch(\r\n            checkerUser({collection:'login',username:this.state.username,password:this.state.password})\r\n        ).then(\r\n            res=>this.setState({errorMess:res.data.msg})\r\n        )\r\n    };\r\n\r\n    changeIpt=(ev)=>{\r\n        this.setState({\r\n            [ev.target.name]:ev.target.value\r\n        })\r\n    };\r\n\r\n    render(){\r\n        let {username,password,errorMess} = this.state;\r\n        return (\r\n            <div className={styles.content}>\r\n                <UcNav arrow=\"gray\" borderWidth={0} bgColor=\"transparent\" />\r\n                <h1>亲，欢迎登陆</h1>\r\n                <div className={styles['login-box']}>\r\n                    没有阿雷账户？\r\n                    <a onClick={()=>store.dispatch({type:\"UPDATE_USER\",payload:{err:3}})}>立即注册</a>\r\n                </div>\r\n                <div className={styles.inputox}>\r\n                    <UcInput\r\n                        // style={{textIndent: '1.5rem'}}\r\n                        label=\"用户\" model={{name:'username',value:username,onChange:this.changeIpt}}/>\r\n                    <UcInput\r\n                        label=\"密码\"\r\n                        // style={{textIndent: '1.5rem',}}\r\n                        type=\"password\"\r\n                        model={{name:'password',value:password,onChange:this.changeIpt}}\r\n                    />\r\n                </div>\r\n                <div className={styles.footbox}>\r\n                    <br/><br/>\r\n                    <p className={styles.errcol}>{errorMess}</p>\r\n                    <UcButton style={{marginTop:'0.64rem',marginBottom:'0.3rem',background:'indianred',border:'none'}} clickHandler={this.login}>登录</UcButton>\r\n                    <br/>\r\n                    <a onClick={()=>this.props.history.push('/nnnnn')} className=\"tishi\">忘记密码？</a>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n }\r\n\r\nexport default connect()(Login)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"loading_loading__1p5z1\",\"s\":\"loading_s__22uJ_\"};","import React,{PureComponent} from 'react';\r\nimport styles from '../assets/css/reg.module.css'\r\nimport UcNav from \"../components/uc-nav/UcNav\";\r\nimport UcButton from \"../components/uc-button\";\r\n\r\nimport {Link} from 'react-router-dom'\r\nimport UcInput from \"../components/uc-input\";\r\nimport qs from 'qs';\r\n\r\n\r\nimport store from \"../plugins/redux\";\r\nimport {checkerUser} from \"../store/actionCreators\";\r\n\r\nexport default class Reg extends PureComponent{\r\n\r\n    state={\r\n        username:'',\r\n        password:'',\r\n        nikename:'',\r\n        errorMess:''\r\n    };\r\n    changeIpt=(ev)=>{\r\n        this.setState({\r\n            [ev.target.name]:ev.target.value\r\n        })\r\n    };\r\n    reg=async ()=>{\r\n\r\n        let {username,password,nikename}=this.state;\r\n        store.dispatch(\r\n            checkerUser({collection:'reg',username,password,nikename,icon:this.file.files[0]})\r\n        ).then(\r\n            res=>{\r\n                if (res.data.err===0){\r\n                    console.log('注册成功')\r\n                    store.dispatch({type:'UPDATE_USER',payload:{err:1}})\r\n                } else {\r\n                    this.setState({errorMess:res.data.msg})\r\n                }\r\n            }\r\n        )\r\n    };\r\n\r\n\r\n\r\n    render(){\r\n        let {username,password,errorMess,nikename} = this.state;\r\n        return (\r\n            <div className={styles.content}>\r\n                <UcNav arrow=\"gray\" borderWidth={0} bgColor=\"transparent\" />\r\n                {/*<h1 id=\"h1\" onClick={this.upload}>点击上传</h1>*/}\r\n                {/*<input type=\"file\" id=\"file\" style={{display:'none'}}/>*/}\r\n                <h1 onClick={()=>this.file.click()}>点击上传</h1>\r\n                <input type=\"file\" ref={el=>this.file=el} style={{visibility: \"hidden\"}}/>\r\n                <h2>亲，欢迎注册阿雷账号</h2>\r\n                <div className={styles['login-box']}>\r\n                    若有阿雷账户？\r\n                    <a onClick={()=>store.dispatch({type:'UPDATE_USER',payload:{err:1}})}>立即登录</a>\r\n                </div>\r\n                <div className={styles.inputox}>\r\n                    <UcInput\r\n                        // style={{textIndent: '1.5rem'}}\r\n                        label=\"昵称\" model={{name:'nikename',value:nikename,onChange:this.changeIpt}}/>\r\n                    <UcInput\r\n                        // style={{textIndent: '1.5rem'}}\r\n\r\n                        label=\"用户\" model={{name:'username',value:username,onChange:this.changeIpt}}/>\r\n                    <UcInput\r\n                        label=\"密码\"\r\n                        // style={{textIndent: '1.5rem'}}\r\n\r\n                        type=\"password\"\r\n                        model={{name:'password',value:password,onChange:this.changeIpt}}\r\n                    />\r\n                </div>\r\n                <div className={styles.footbox}>\r\n                    <br/>\r\n                    <p className={styles.errcol}>{errorMess}</p>\r\n                    <UcButton\r\n                        style={{marginTop:'0.3rem',marginBottom:'0.2rem',background:'indianred',border:'none'}}\r\n                        clickHandler={this.reg}>\r\n                        注册\r\n                    </UcButton>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n }\r\n","let initState=[];//banner\r\n\r\n\r\n//reducer\r\nconst banner = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_BANNER':\r\n      // 校验payload 是不是数组\r\n      return payload;\r\n    case 'CLEAR_BANNER':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default banner;","let initState=[];//column\r\n\r\n\r\n//reducer\r\nconst goods = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_GOODS':\r\n      // 校验payload 是不是数组\r\n      return payload\r\n    case 'CLEAR_GOODS':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default goods;","//detail\r\nlet initState={};\r\n\r\n\r\n//reducer\r\nconst detail = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_DETAIL':\r\n      // 校验payload 是不是的对象\r\n      return payload;\r\n    case 'CLEAR_DETAIL':\r\n      // 校验payload 是不是的对象\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default detail;","let initState=[];//follow\r\n\r\n\r\n//reducer\r\nconst follow = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_FOLLOW':\r\n      // 校验payload 是不是数组\r\n      return payload;\r\n    case 'CLEAR_FOLLOW':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default follow;","let initState=[];//home\r\n\r\n\r\n//reducer\r\nconst home = (state=initState,action)=>{\r\n\r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_HOME':\r\n      // 校验payload 是不是数组\r\n      return payload;\r\n    case 'CLEAR_HOME':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default home;","//user\r\nlet initState={\r\n  err:1,\r\n  token:'',\r\n  data:{}\r\n};\r\n\r\n\r\n//reducer\r\nconst user = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_USER':\r\n      // 校验payload 是不是对象，是否还有对应的key\r\n      return {\r\n        err:payload.err,\r\n        token:payload.token,\r\n        data:payload.data,\r\n      };\r\n    case 'CLEAR_USER':\r\n      return {\r\n        err:1,\r\n        token:'',\r\n        data:{}\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default user;","let initState=[];//column\r\n\r\n\r\n//reducer\r\nconst trip = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_TRIP':\r\n      // 校验payload 是不是数组\r\n      return payload\r\n    case 'CLEAR_TRIP':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default trip;","let initState=[];//column\r\n\r\n\r\n//reducer\r\nconst strategy = (state=initState,action)=>{\r\n  \r\n  let {type, payload} = action;\r\n\r\n  switch (type) {\r\n    case 'UPDATE_STRATEGY':\r\n      // 校验payload 是不是数组\r\n      return payload\r\n    case 'CLEAR_STRATEGY':\r\n      // 校验payload 是不是数组\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n\r\n};\r\n\r\nexport default strategy;","const bFoot = (bFoot=false,action)=>{\r\n  let {type,payload} = action;\r\n  switch (type) {\r\n    case \"UPDATE_FOOT\":\r\n      return payload;\r\n    default:\r\n      return bFoot;\r\n  }\r\n};\r\n\r\nexport default bFoot","const bLoading = (bLoading=false,action)=>{\r\n  let {type,payload} = action;\r\n  switch (type) {\r\n    case \"UPDATE_LOADING\":\r\n      return payload;\r\n    default:\r\n      return bLoading;\r\n  }\r\n};\r\n\r\nexport default bLoading","\r\nconst bNav = (bNav=false,action)=>{\r\n  let {type,payload} = action;\r\n  switch (type) {\r\n    case \"UPDATE_NAV\":\r\n      return payload;\r\n    default:\r\n      return bNav;\r\n  }\r\n};\r\n\r\nexport default bNav","// import {createStore,combineReducers,applyMiddleware,compose} from \"redux\";//compose 蹭强器\r\n// //   combineReducers  合并多个reducer\r\n// //   applyMiddleware安装中间件，改装增强redux\r\n// //   compose 蹭强器\r\n// import thunk from \"redux-thunk\";\r\n//\r\n// import home from '../store/reducers/home'\r\n// import follow from \"../store/reducers/follow\";\r\n// import detail from \"../store/reducers/detail\";\r\n// import user from \"../store/reducers/user\";\r\n// let rootReducer = combineReducers({home,follow,detail,user});\r\n//\r\n// //创建store实例 并导出\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;//使用redux-devtools\r\n// let store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)));//安装了中间件，改装了redux\r\n//\r\n// export default store;\r\n\r\nimport {createStore,combineReducers,applyMiddleware,compose} from 'redux';//compose 蹭强器\r\nimport thunk from 'redux-thunk'\r\n\r\nimport banner from '../store/reducers/banner'\r\nimport goods from '../store/reducers/goods'\r\nimport detail from '../store/reducers/detail'\r\nimport follow from '../store/reducers/follow'\r\nimport home from '../store/reducers/home'\r\nimport user from '../store/reducers/user'\r\nimport trip from '../store/reducers/trip'\r\nimport strategy from \"../store/reducers/strategy\";\r\nimport bFoot from \"../store/reducers/bFoot\";\r\nimport bLoading from \"../store/reducers/bLoading\";\r\nimport bNav from \"../store/reducers/bNav\";\r\n\r\nlet rootReducer = combineReducers({banner, detail, follow, home, user,goods,trip,strategy,bFoot,bLoading,bNav});\r\n\r\n//创建store实例 并导出\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;//使用redux-devtools\r\nlet store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)));//安装了中间件，改装了redux\r\n\r\nexport default store;","(function (doc, win) {\r\n  var docEl = doc.documentElement,\r\n    resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\r\n    recalc    = function () {\r\n      var clientWidth = docEl.clientWidth;\r\n      if (clientWidth>=640) {\r\n        clientWidth = 640;\r\n      };\r\n      if (!clientWidth) return;\r\n      docEl.style.fontSize = 100 * (clientWidth / 640) + 'px';\r\n    };\r\n  if (!doc.addEventListener) return;\r\n  win.addEventListener(resizeEvt, recalc, false);\r\n  doc.addEventListener('DOMContentLoaded', recalc, false);\r\n})(document, window);","import React,{Component} from 'react';\r\n\r\nexport default function asyncComponent(importComponent) {\r\n\r\n  class AsyncComponent extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        component: null\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      const { default: component } = await importComponent();\r\n\r\n      this.setState({\r\n        component: component\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const C = this.state.component;\r\n      return C ? <C {...this.props} /> : null;\r\n    }\r\n  }\r\n\r\n  return AsyncComponent;\r\n\r\n}","import  React from 'react'\r\nimport styles from './loading.module.css'\r\n// export default class Loading extends React.Component{\r\n//     render() {\r\n//         return (\r\n//             <div className={styles.loading}></div>\r\n//         );\r\n//     }\r\n// }\r\n\r\nexport const Loading = ()=><div className={styles.loading}></div>;","// 解构路由组件\r\n//BrowserRouter   约定模式 为 history\r\n//HashRouter     约定模式 为 hash\r\n//Route        匹配、展示\r\n// NavLink    声明式跳转 还可以约定 路由激活状态\r\n//Link        声明式跳转   无激活状态\r\n// ------Redirect   重定向\r\n//from来自\r\n//to 去向\r\n//-----------\r\n//Switch   排他性匹配\r\n\r\n//**Route**属性\r\n//path 路径\r\n//component 在地址匹配的时候React的组件才会被渲染\r\n\r\nimport React,{Component} from \"react\";\r\nimport {NavLink,Route,Switch,Redirect} from 'react-router-dom';\r\n//异步组件\r\nimport asyncComponent from \"../utils/asyncComponent\";\r\nimport Loadable from 'react-loadable'\r\n\r\n\r\n// import Footer from \"./footer\";\r\nconst Footer = asyncComponent(()=>import(\"./footer\"))\r\n// import Home from \"../pages/Home\";\r\nconst Home = asyncComponent(()=>import(\"../pages/Home\"))\r\n// import Goods from \"../pages/Goods\";\r\nconst Goods = asyncComponent(()=>import(\"../pages/Goods\"))\r\n// import SoSo from \"../pages/SoSo\";\r\nconst SoSo = asyncComponent(()=>import(\"../pages/SoSo\"))\r\n// import User from \"../pages/User\";\r\nconst User = asyncComponent(()=>import(\"../pages/User\"))\r\n// import NoPage from \"../pages/NoPage\";\r\nconst NoPage = asyncComponent(()=>import(\"../pages/NoPage\"))\r\n// import Trip from \"../pages/Trip\";\r\nconst Trip = asyncComponent(()=>import(\"../pages/Trip\"))\r\n// import Follow from \"../pages/Follow\";\r\nconst Follow = asyncComponent(()=>import(\"../pages/Follow\"))\r\n// import Detail from \"../pages/Detail\";\r\nconst Detail = asyncComponent(()=>import(\"../pages/Detail\"))\r\n\r\nimport {Loading} from \"../components/loading\";\r\n\r\n// import Login from \"../pages/Login\";\r\nconst Login = Loadable({\r\n\tloader: () => import('../pages/Login'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\n// import Reg from \"../pages/Reg\";\r\nconst Reg = Loadable({\r\n\tloader: () => import('../pages/Reg'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\n// import Backup from \"../pages/Backup\";\r\nconst Backup = Loadable({\r\n\tloader: () => import('../pages/Backup'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\n// import Header from \"./header\";\r\nconst Header = Loadable({\r\n\tloader: () => import('./header'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\nimport pubsub from 'pubsub-js'\r\n// import Strategy from \"../pages/Strategy\";\r\nconst Strategy = Loadable({\r\n\tloader: () => import('../pages/Strategy'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\n// import Nnnnn from \"../pages/nnnnn\";\r\nconst Nnnnn = Loadable({\r\n\tloader: () => import('../pages/Nnnnn'),\r\n\t// loading: Loading,\r\n\tloading:()=>null\r\n});\r\nimport {connect} from \"react-redux\";\r\nimport {viewGlobal} from \"../store/actionCreators\";\r\n\r\n\r\nclass Default extends Component{\r\n\tstate={};\r\n\tstatic getDerivedStateFromProps(nextProps,nextState){\r\n\t\t//路由切换，每次切换到页面顶部\r\n\t\twindow.scrollTo(0,0);//滚动到顶部\r\n\t  let path = nextProps.location.pathname;\r\n\t  if (/follow|goods/.test(path)){\r\n\t  \tnextProps.dispatch(viewGlobal('UPDATE_NAV',true))\r\n\t\tnextProps.dispatch(viewGlobal('UPDATE_FOOT',true))\r\n\t  }\r\n\t  if (/login|reg|detail|baoji/.test(path)){\r\n\t\t  nextProps.dispatch(viewGlobal('UPDATE_NAV',false))\r\n\t\t  nextProps.dispatch(viewGlobal('UPDATE_FOOT',false))\r\n\t  }\r\n\t  if (/user|home|strategy|trip/.test(path)){\r\n\t\t  nextProps.dispatch(viewGlobal('UPDATE_NAV',false))\r\n\t\t  nextProps.dispatch(viewGlobal('UPDATE_FOOT',true))\r\n\t  }\r\n\t}\r\n\t\r\n\t\r\n    render() {\r\n\t\t// console.log(this.props)\r\n\t\t let {bNav,bFoot,bLoading} = this.props;\r\n        return (\r\n            <>\r\n                {/*<Loading/>*/}\r\n\t\t\t\t{bLoading && <Loading/> }\r\n\t\t\t\t{bNav && <Header/>}\r\n                <Switch>\r\n                    <Route  path={'/home'} component={Home}/>\r\n\t\t\t\t\t<Route exact path={'/nnnnn'} component={Nnnnn}/>\r\n                    <Route exact path={'/goods/index'} component={Goods}/>\r\n\t\t\t\t\t<Redirect exact from={'/goods'} to={'/goods/index'} />\r\n                    <Route exact path={'/goods/follow'} component={Follow}/>\r\n\t\t\t\t\t<Route path={'/trip'} component={Trip}/>\r\n                    <Route path={'/login'} component={Login}/>\r\n                    <Route path={'/reg'} component={Reg}/>\r\n                    <Route path={`/soso`} component={SoSo}></Route>\r\n                    <Route exact path={'/user'} component={User}/>\r\n                    <Route exact path={'/strategy'} component={Strategy}/>\r\n                    <Route exact path={'/follow'} component={Follow}/>\r\n\t\t\t\t\t<Route path=\"/detail/:_id\" component={Detail}/>\r\n                    <Redirect exact from={'/'} to={'/home'} />\r\n                    <Route component={NoPage}></Route>\r\n\r\n                </Switch>\r\n                {bFoot ? <Footer/> : null}\r\n            </>\r\n        )\r\n    }\r\n}\r\nexport default connect(\r\n\tstate=>({bNav:state.bNav,bLoading:state.bLoading,bFoot:state.bFoot})\r\n)(Default)\r\n","import React,{Component} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Login from \"../pages/Login\";\r\nimport App from './App';\r\nimport Reg from \"../pages/Reg\";\r\n\r\n//1 未登录，或者token过期\r\n//3 需要注册\r\n//2 代表的是服务器端返回的token失败码\r\n\r\nfunction Auth({user:{err},...rest}) {\r\n\tif (err===1){return <Login/>}\r\n\tif (err===3){return <Reg/>}\r\n\treturn <App {...rest}/>\r\n}\r\n\r\nexport default connect(\r\n\tstate=>({user:state.user})\r\n)(Auth)\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// 解构路由组件\n//BrowserRouter   约定模式 为 history\n//HashRouter     约定模式 为 hash\n//Route        匹配、展示\n// NavLink    声明式跳转 还可以约定 路由激活状态\n//Link        声明式跳转   无激活状态\n// Redirect   重定向\n\n//**Route**属性\n//path 路径\n//component 在地址匹配的时候React的组件才会被渲染\n\nimport './utils/font'\nimport  './assets/css/index.css'\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport Default from \"./layouts/Default\";\n\nimport './plugins/axios'\n\n\n//在react应用内部创建全局属性\nimport {baseUrl,baseUrl2} from './server';\nReact.baseUrl = baseUrl;\nReact.baseUrl2 = baseUrl2;\n\nReact.Component.prototype.baseUrl=baseUrl;\nReact.Component.prototype.baseUrl2=baseUrl2;\n\n\n//引入redux配置\nimport store from \"./plugins/redux\";\nimport {Provider} from \"react-redux\";\n\nimport qs from 'qs'\n\nlet local=window.localStorage.getItem('user');\nif(local){\n    store.dispatch({type:'UPDATE_USER',payload:qs.parse(local)})\n}\n\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n             <Route component={Default}/>\n        </BrowserRouter>\n    </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}